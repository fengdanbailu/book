# 页面布局
1. 搜索入参（搜索类型：域名，产品线，高级搜索；网络区域；数据中心）和功能交互（收藏，重新开始，搜索）；
2. 概览信息：可用性，QPS，网络流量，响应时间；
3. 流量分布图：分数据中心，分运营商，分省份；
4. 可用性图；
5. QPS及QPS TOP排名图表；
6. 网络流量及网络流量TOP排名图表；
7. 相应时间及响应时间TOP排名图表；
8. 状态码分布图及数值计算；
9. 请求省份TOP占比及排名图；
10. 请求运营商TOP占比及排名图；
11. 请求IP排名表；
12. 请求URL排名表；

# 主要功能
1. 搜索一个或一组域名，各自可用性、QPS、网络流量、响应时间的图或排名图标；
2. 搜索流量按数据中心，运营商，省份，URL，客户IP的分布图或排名图；
3. 支持总体控制和每个分布子图的局部控制，控制机房分布和时间；
4. 所有图表都支持跳转到对应的日志检索页面中；
5. 支持收藏功能；

# 涉及到的API
1. 获取域名列表 /ufe_api/get_domain_list/
2. 添加收藏 /ufe_api/add_favorite/
3. 获取收藏列表 /ufe_api/get_all_favorite/
4. 获取运营商、省份、URL、客户IP的信息/dashboard/get_field_count/

5. 获取QPS、网络流量、可用性的当前值 /dashboard/get_field_stat/
6. 获取可用性的当前值 /dashboard/get_group_available_stat/
7. 获取组可用性 /dashboard/get_group_available/
8. 获取组QPS /dashboard/get_group_qps/
9. 获取组QPS分IDC的流量 /dashboard/get_group_qps_idc/
10. 获取组网络流量 /dashboard/get_group_netflow/
11. 获取组响应时间 /dashboard/get_group_responsetime/
12. 获取状态码 /dashboard/get_group_statuscode/

13. 获取QPS、网络流量、可用性的当前值（高级）/dashboard/get_custom_field_stat/
14. 获取可用性的当前值（高级）/dashboard/get_available_stat/
15. 获取可用性（高级）/dashboard/get_available/
16. 获取QPS（高级）/dashboard/get_qps/
17. 获取QPS分IDC的流量（高级） /dashboard/get_qps_idc/
18. 获取网络流量（高级）/dashboard/get_netflow/
19. 获取响应时间（高级）/dashboard/get_responsetime/
20. 获取状态码（高级） /dashboard/get_statuscode/

21. 获取可用性（域名）/dashboard/get_domain_available/
22. 获取QPS（域名）/dashboard/get_domain_qps/
23. 获取网络流量（域名）/dashboard/get_domain_netflow/
24. 获取响应时间（域名） /dashboard/get_domain_responsetime/
25. 获取状态码（域名）/dashboard/get_domain_statuscode/

# 值得总结的知识点
1. highchcart支持节点跳转以及自定义事件；
2. 排名图不一定用highchart，还可以自己模拟；
3. 刷新变动取决于一个配置animation；
4. URL增加参数记住链接内容；

# 存在的不足
1. ajax没有聚拢起来，存在重复调用的情况；
2. 页面由于不断修改，导致违背初衷，部分交互存在交叉重叠；
3. 错误异常处理做的不够；多考虑情况，多测试，多用try catch可以缓解一部分问题；
4. 涉及到ES，稍微查询跨度大一些接口异常慢；
5. 缺乏API等交互手册；如何一开始设计就考虑到需求变化和人员变动的问题；目前想到的是，第一版做的时候每一步都要明确；要有交接的交互文档，特别是API，再加上一些日常操作手册会更好；